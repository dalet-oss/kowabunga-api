{%- import "openapi/oas.macros.yml.j2" as oas with context %}

components:
  schemas:
{{ oas.Schema(resources.record.schema, resources.record.desc, ['name', 'addresses']) }}
{{ oas.StringProperty('id', 'The DNS record ID (auto-generated)') }}
{{ oas.StringProperty('name', "The DNS record name (zone's entry)") }}
{{ oas.StringProperty('description', 'The DNS record description') }}
{{ oas.StringProperty('domain', 'The DNS record associated domain (inherited from associated project)') }}
{{ oas.StringArrayProperty('addresses', 'A list of IPv4 addresses to be associated to the record') }}

  parameters:
{{ oas.StringPathParam(resources.record.paramSchema, resources.record.paramId, 'The ID of the DNS record') }}

paths:
  /record/{ {{ resources.record.paramId }} }:
{{ oas.RUD(resources.record, [resources.record.tag], [resources.record.paramSchema]) }}
